# CWIST Roadmap

## Phase 1: Core Foundation (Completed)
- [x] Basic HTTP Parser (Request/Response)
- [x] Dynamic String (SString)
- [x] HTTPS Support (OpenSSL)
- [x] Secure Hashing (SipHash)
- [x] URI/Query Parsing (liburiparser)
- [x] Database Wrapper (SQLite3)
- [x] Basic Error Handling System

## Phase 2: Framework Evolution (Current Focus)
- [ ] **Routing System**:
    - [x] Landed `cwist_mux_router` + `cwist_app_get/post/ws` registration (docs/api/app.md & docs/api/http.md).
    - [x] Support dynamic parameters (Express-style `:id` matching inside `cwist_app`).
    - [x] Replace the linked-list router with a hash map (fallback list for parameterized paths) for large route tables and method+path lookups.
- [ ] **Application Abstraction**:
    - [x] `cwist_app` struct now bundles server config, TLS, routes, middleware, and WebSocket handlers.
    - [x] Middleware support (request-id, access log, rate limiting) is chainable per docs/api/middleware.md.
    - [x] Fold database handles/configuration pools into `cwist_app` so handlers stop wiring SQLite manually.
- [ ] **Advanced Security**:
    - [ ] Automatic Security Headers (HSTS, X-Frame-Options, CSP).
    - [x] Rate Limiting middleware (`cwist_mw_rate_limit_ip`).
    - [ ] CSRF Token generation/validation.
- [ ] **Concurrency Model**:
    - [ ] Thread Pool implementation (move away from simple thread-per-request dispatch in `cwist_http_server_loop`).
    - [ ] Event Loop integration (register client FDs with epoll/kqueue for non-blocking I/O instead of synchronous handlers).

## Phase 3: Developer Experience
- [ ] Template Engine (Simple replacement or Mustache).
- [ ] CLI Tool for scaffolding projects (`cwist new myapp`).
- [ ] Hot Reloading (using `inotify`).
